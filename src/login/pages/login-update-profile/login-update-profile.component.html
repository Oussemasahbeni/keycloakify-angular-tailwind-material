@let url = kcContext.url;
@let isAppInitiatedAction = kcContext.isAppInitiatedAction;

<ng-template #headerNode>
  <div class="leading-tight tracking-tight mb-4">
    <span class="text-lg font-bold">{{ i18n.msgStr('loginProfileTitle') }}</span>
  </div>
</ng-template>
<form
  id="kc-update-profile-form"
  method="post"
  [kcClass]="'kcFormClass'"
  [action]="url.loginAction"
>
  <ng-container [ngComponentOutlet]="userProfileFormFields() ?? null" />
  <div [kcClass]="'kcFormGroupClass'">
    <div
      id="kc-form-options"
      [kcClass]="'kcFormOptionsClass'"
    >
      <div [kcClass]="'kcFormOptionsWrapperClass'"></div>
    </div>
    <div
      id="kc-form-buttons"
      [kcClass]="'kcFormButtonsClass'"
    >
      <button
        type="submit"
        matButton="filled"
        class="w-full"
        [disabled]="!isFormSubmittable()"
      >
        {{ i18n.msgStr('doSubmit') }}
      </button>
      @if (isAppInitiatedAction) {
        <button
          type="submit"
          name="cancel-aia"
          value="true"
          formNoValidate
          matButton="outlined"
          class="w-full outline-button-error"
        >
          {{ i18n.msgStr('doCancel') }}
        </button>
      }
    </div>
  </div>
</form>
