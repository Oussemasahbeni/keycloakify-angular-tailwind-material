@let url = kcContext.url;
@let recoveryAuthnCodesInputBean = kcContext.recoveryAuthnCodesInputBean;
@let messagesPerField = kcContext.messagesPerField;

<ng-template #headerNode>
  <div class="leading-tight tracking-tight mb-4">
    <span class="text-lg font-bold">{{ i18n.msgStr('auth-recovery-code-header') }}</span>
  </div>
</ng-template>

<form
  id="kc-recovery-code-login-form"
  method="post"
  [action]="url.loginAction"
  class="space-y-4"
>
  <!-- Recovery Code Input -->
  <mat-form-field
    appearance="outline"
    class="w-full"
  >
    <mat-label>
      {{ i18n.msgStr('auth-recovery-code-prompt', recoveryAuthnCodesInputBean.codeNumber.toString()) }}
    </mat-label>
    <input
      matInput
      tabIndex="1"
      id="recoveryCodeInput"
      name="recoveryCodeInput"
      autocomplete="off"
      type="text"
      autofocus
      [attr.aria-invalid]="messagesPerField.existsError('recoveryCodeInput')"
      class="font-mono tracking-widest"
    />
    @if (messagesPerField.existsError('recoveryCodeInput')) {
      <mat-error
        id="input-error"
        aria-live="polite"
        [innerHTML]="messagesPerField.get('recoveryCodeInput') | kcSanitize: 'html'"
      ></mat-error>
    }
  </mat-form-field>

  <!-- Submit Button -->
  <button
    matButton="filled"
    name="login"
    id="kc-login"
    type="submit"
    class="w-full"
  >
    {{ i18n.msgStr('doLogIn') }}
  </button>
</form>
